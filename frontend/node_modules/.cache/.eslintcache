[{"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\index.js":"1","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\App.jsx":"2","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\contexts\\CurrentUserContext.js":"4","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\utils\\auth.js":"5","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\utils\\api.js":"6","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Header\\Header.jsx":"7","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Main\\Main.jsx":"8","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Footer\\Footer.jsx":"9","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\PopupWithForm\\PopupWithForm.jsx":"10","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\ImagePopup\\ImagePopup.jsx":"11","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\EditProfilePopup\\EditProfilePopup.jsx":"12","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\ProtectedRoute\\ProtectedRoute.jsx":"13","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\AddPlacePopup\\AddPlacePopup.jsx":"14","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\EditAvatarPopup\\EditAvatarPopup.jsx":"15","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Login\\Login.jsx":"16","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Register\\Register.jsx":"17","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\InfoTooltip\\InfoTooltip.jsx":"18","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\utils\\useFormValidation.js":"19","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Card\\Card.jsx":"20","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Spinner\\Spinner.jsx":"21","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\ButtonLike\\ButtonLike.jsx":"22"},{"size":638,"mtime":1706717617000,"results":"23","hashOfConfig":"24"},{"size":9852,"mtime":1706717617000,"results":"25","hashOfConfig":"24"},{"size":362,"mtime":1706717617000,"results":"26","hashOfConfig":"24"},{"size":119,"mtime":1706717617000,"results":"27","hashOfConfig":"24"},{"size":1006,"mtime":1706798441339,"results":"28","hashOfConfig":"24"},{"size":2623,"mtime":1706798446856,"results":"29","hashOfConfig":"24"},{"size":942,"mtime":1706717617000,"results":"30","hashOfConfig":"24"},{"size":1905,"mtime":1706717617000,"results":"31","hashOfConfig":"24"},{"size":170,"mtime":1706813654330,"results":"32","hashOfConfig":"24"},{"size":1238,"mtime":1706717617000,"results":"33","hashOfConfig":"24"},{"size":686,"mtime":1706717617000,"results":"34","hashOfConfig":"24"},{"size":2845,"mtime":1706717617000,"results":"35","hashOfConfig":"24"},{"size":210,"mtime":1706717617000,"results":"36","hashOfConfig":"24"},{"size":2461,"mtime":1706717617000,"results":"37","hashOfConfig":"24"},{"size":1691,"mtime":1706717617000,"results":"38","hashOfConfig":"24"},{"size":1335,"mtime":1706717617000,"results":"39","hashOfConfig":"24"},{"size":1695,"mtime":1706717617000,"results":"40","hashOfConfig":"24"},{"size":464,"mtime":1706717617000,"results":"41","hashOfConfig":"24"},{"size":1214,"mtime":1706717617000,"results":"42","hashOfConfig":"24"},{"size":1032,"mtime":1706717617000,"results":"43","hashOfConfig":"24"},{"size":120,"mtime":1706717617000,"results":"44","hashOfConfig":"24"},{"size":1504,"mtime":1706717617000,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1pzbe0u",{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\index.js",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\App.jsx",["113"],[],"import Header from \"./Header/Header\";\nimport Main from \"./Main/Main\";\nimport Footer from \"./Footer/Footer\";\nimport PopupWithForm from \"./PopupWithForm/PopupWithForm\";\nimport ImagePopup from \"./ImagePopup/ImagePopup\";\nimport { useCallback, useState, useEffect } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup/EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup/EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup/AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute/ProtectedRoute\";\nimport Login from \"./Login/Login\";\nimport Register from \"./Register/Register\";\nimport { auth } from \"../utils/auth\";\nimport InfoTooltip from \"./InfoTooltip/InfoTooltip\";\nimport complete from '../images/yes.svg';\nimport error from '../images/no.svg';\n\nfunction App() {\n  // popup state\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState([]);\n  const [openImage, setOpenImage] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n  // context state\n  const [CurrentUser, setCurrentUser] = useState({})\n  const [currentMail, setCurrentMail] = useState('');\n\n  // card state\n  const [cards, setCards] = useState([]);\n  const [isLoadingCards, setLoadingCards] = useState(true);\n  const [deleteCardId, setDeleteCardId] = useState('');\n\n  // log state\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [textStatusRegisterPopup, setTextStatusRegisterPopup] = useState('');\n  const [statusRegisterPopup, setStatusRegisterPopup] = useState(false);\n  const [avatarStatusRegisterPopup, setAvatarStatusRegisterPopup] = useState(null);\n\n  const navigate = useNavigate();\n\n  const handleRegistration = (email, password) => {\n    setIsSending(true);\n    auth.registration(email, password)\n      .then(() => {\n        setStatusRegisterPopup(true);\n        setTextStatusRegisterPopup('Вы успешно зарегистрировались!');\n        setAvatarStatusRegisterPopup(complete);\n        navigate(\"/sign-in\", { replace: true });\n      })\n      .catch((err) => {\n        setStatusRegisterPopup(true);\n        setTextStatusRegisterPopup('Что-то пошло не так! Попробуйте ещё раз.');\n        setAvatarStatusRegisterPopup(error);\n        console.log(err);\n      })\n      .finally(() => setIsSending(false))\n  }\n\n  const handleLogin = (email, password) => {\n    setIsSending(true);\n    auth.Login(email, password)\n      .then((res) => {\n        if (res) {\n          localStorage.setItem('jwt', res.token);\n          setCurrentMail(email);\n          setLoggedIn(true);\n          navigate(\"/\", { replace: true });\n        }\n      })\n      .catch((err) => {\n        setStatusRegisterPopup(true);\n        setTextStatusRegisterPopup('Что-то пошло не так! Попробуйте ещё раз.');\n        setAvatarStatusRegisterPopup(error);\n        console.log(err);\n      })\n      .finally(() => setIsSending(false));\n  }\n\n  const handleCheckToken = () => {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      auth.checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setCurrentMail(res.email);\n            setLoggedIn(true)\n            navigate('/', { replace: true });\n          }\n        })\n    }\n  }\n\n  useEffect(() => {\n    handleCheckToken();\n  }, []);\n\n  const handleExit = () => {\n    localStorage.removeItem('jwt');\n    setCurrentMail('');\n    navigate('/sign-in', { replace: true });\n  }\n\n  const closeAllPopups = useCallback(() => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setOpenImage(false);\n    setDeletePopupOpen(false);\n    setStatusRegisterPopup(false);\n    setAvatarStatusRegisterPopup(false);\n  }, []);\n\n  const closePopupEsc = useCallback((evt) => {\n    if (evt.key === 'Escape') {\n      closeAllPopups()\n      document.removeEventListener('keydown', closePopupEsc)\n    }\n  }, [closeAllPopups])\n\n  const closePopups = useCallback(() => {\n    closeAllPopups();\n    document.removeEventListener('keydown', closePopupEsc);\n  }, [closeAllPopups, closePopupEsc])\n\n  function closeEsc() {\n    document.addEventListener('keydown', closePopupEsc)\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    closeEsc()\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    closeEsc()\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    closeEsc()\n  }\n\n  function HadleCardOpen(card) {\n    setSelectedCard(card);\n    setOpenImage(true);\n    closeEsc()\n  }\n\n  function HandleDeletePopupClick(cardid) {\n    setDeleteCardId(cardid)\n    setDeletePopupOpen(true);\n    closeEsc()\n  }\n\n\n  useEffect(() => {\n    if (loggedIn) {\n      setLoadingCards(true)\n      Promise.all([api.getInfo(localStorage.jwt), api.getCards(localStorage.jwt)])\n        .then(([dataUser, dataCard]) => {\n          setCurrentUser(dataUser)\n          setCards(dataCard);\n          setLoadingCards(false)\n        })\n        .catch(error => console.error(`Ошибка при попытке загрузить карточки ${error}`))\n    }\n  }, [loggedIn])\n\n  function handleDeleteSubmit(evt) {\n    evt.preventDefault()\n    setIsSending(true)\n    api.deleteCardID(deleteCardId, localStorage.jwt)\n      .then(() => {\n        setCards(cards.filter(card => {\n          return card._id !== deleteCardId\n        }))\n        closePopups()\n        setIsSending(false)\n      })\n      .catch((err) => console.error(`Ошибка при попытке удаления карточки ${err}`))\n      .finally(() => setIsSending(false))\n  }\n\n  function handleUpdateUser(dataUser, reset) {\n    setIsSending(true)\n    api.setInfoProfile(dataUser, localStorage.jwt)\n      .then(res => {\n        setCurrentUser(res)\n        closePopups()\n        reset()\n        setIsSending(false)\n      })\n      .catch((err) => console.error(`Ошибка при попытке редактировать профиль ${err}`))\n      .finally(() => setIsSending(false))\n  }\n\n  function handleUpdateAvatar(dataUser, reset) {\n    setIsSending(true)\n    api.setInfoAvatar(dataUser, localStorage.jwt)\n      .then(res => {\n        setCurrentUser(res)\n        closePopups()\n        reset()\n        setIsSending(false)\n      })\n      .catch((err) => console.error(`Ошибка при попытке редактировать аватар ${err}`))\n      .finally(() => setIsSending(false))\n  }\n\n  function handleAddCard(dataCard, reset) {\n    setIsSending(true)\n    api.addNewCard(dataCard, localStorage.jwt)\n      .then(res => {\n        setCards([res, ...cards])\n        closePopups()\n        reset()\n        setIsSending(false)\n      })\n      .catch((err) => console.error(`Ошибка при попытке добавить карточку ${err}`))\n      .finally(() => setIsSending(false))\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={CurrentUser}>\n        <div className=\"page\">\n          {/* Header start */}\n          <Header mail={currentMail} exit={handleExit} />\n          {/* Header end */}\n\n          <Routes>\n            <Route path=\"/\" element={\n              <ProtectedRoute\n                loggedIn={loggedIn}\n                element={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardOpen={HadleCardOpen}\n                onDelete={HandleDeletePopupClick}\n                cards={cards}\n                isLoading={isLoadingCards}\n              />\n            } />\n\n            <Route path=\"/sign-in\" element={<Login handleLogin={handleLogin} statusText={setIsSending} />} />\n            <Route path=\"/sign-up\" element={<Register handleRegister={handleRegistration} statusText={setIsSending} />} />\n          </Routes>\n\n          { /*\n    <Main \n      onEditProfile = {handleEditProfileClick}\n      onAddPlace = {handleAddPlaceClick}\n      onEditAvatar = {handleEditAvatarClick}\n      onCardOpen = {HadleCardOpen}\n      onDelete = {HandleDeletePopupClick}\n      cards={cards}\n      isLoading={isLoadingCards}\n    />\n    */}\n\n          {/* Footer start */}\n\n          <Footer />\n          {/* Footer start */}\n        </div>\n\n        <InfoTooltip\n          isOpen={statusRegisterPopup}\n          isClose={closePopups}\n          logo={avatarStatusRegisterPopup}\n          name={textStatusRegisterPopup}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isClose={closePopups}\n          isSend={isSending}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isClose={closePopups}\n          isSend={isSending}\n          onAddPlace={handleAddCard}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isClose={closePopups}\n          isSend={isSending}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm\n          name='popup-delete'\n          title='Вы уверены?'\n          titleBtn='да'\n          isOpen={isDeletePopupOpen}\n          isClose={closePopups}\n          onSubmit={handleDeleteSubmit}\n          isSend={isSending}\n        />\n\n        <ImagePopup card={selectedCard} isOpen={openImage} isClose={closePopups} />\n\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","C:\\Users\\user\\dev\\mesto15\\frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\contexts\\CurrentUserContext.js",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\utils\\auth.js",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\utils\\api.js",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Header\\Header.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Main\\Main.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Footer\\Footer.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\PopupWithForm\\PopupWithForm.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\ImagePopup\\ImagePopup.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\EditProfilePopup\\EditProfilePopup.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\ProtectedRoute\\ProtectedRoute.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\AddPlacePopup\\AddPlacePopup.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\EditAvatarPopup\\EditAvatarPopup.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Login\\Login.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Register\\Register.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\InfoTooltip\\InfoTooltip.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\utils\\useFormValidation.js",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Card\\Card.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\Spinner\\Spinner.jsx",[],[],"C:\\Users\\user\\dev\\mesto15\\frontend\\src\\components\\ButtonLike\\ButtonLike.jsx",[],[],{"ruleId":"114","severity":1,"message":"115","line":101,"column":6,"nodeType":"116","endLine":101,"endColumn":8,"suggestions":"117"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleCheckToken'. Either include it or remove the dependency array.","ArrayExpression",["118"],{"desc":"119","fix":"120"},"Update the dependencies array to be: [handleCheckToken]",{"range":"121","text":"122"},[3665,3667],"[handleCheckToken]"]
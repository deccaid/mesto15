{"ast":null,"code":"import _classCallCheck from\"C:/Users/user/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/user/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classPrivateFieldLooseBase from\"C:/Users/user/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";import _classPrivateFieldLooseKey from\"C:/Users/user/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";var _onResponce=/*#__PURE__*/_classPrivateFieldLooseKey(\"onResponce\");var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);Object.defineProperty(this,_onResponce,{value:_onResponce2});this._url=url;this._headers=headers;this._authorization=headers.authorization;}_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._url,\"/users/me\"),{method:\"GET\",headers:this._headers}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"setUserInfo\",value:function setUserInfo(newUserData){return fetch(\"\".concat(this._url,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify(newUserData)}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"getCards\",value:function getCards(){return fetch(\"\".concat(this._url,\"/cards/\"),{headers:this._headers,method:\"GET\"}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"getCardById\",value:function getCardById(idCard){return fetch(\"\".concat(this._url,\"/cards/\").concat(idCard),{headers:this._headers,method:\"GET\"}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,like){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:like?\"PUT\":\"DELETE\",headers:this._headers,body:JSON.stringify({_id:\"\".concat(id)})}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"deleteCardID\",value:function deleteCardID(cardID){return fetch(\"\".concat(this._url,\"/cards/\").concat(cardID),{method:\"DELETE\",headers:{authorization:this._authorization}}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"addCard\",value:function addCard(data){return fetch(\"\".concat(this._url,\"/cards/\"),{headers:this._headers,method:\"POST\",body:JSON.stringify(data)}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"addLike\",value:function addLike(cardID){return fetch(\"\".concat(this._url,\"/cards/\").concat(cardID,\"/likes\"),{method:\"PUT\",headers:{authorization:this._authorization}}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"deleteLike\",value:function deleteLike(cardID){return fetch(\"\".concat(this._url,\"/cards/\").concat(cardID,\"/likes\"),{method:\"DELETE\",headers:{authorization:this._authorization}}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}},{key:\"setInfoAvatar\",value:function setInfoAvatar(data){return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)}).then(_classPrivateFieldLooseBase(this,_onResponce)[_onResponce]);}}]);return Api;}();function _onResponce2(res){return res.ok?res.json():res.json().then(function(errData){return Promise.reject(errData);});}var api=new Api({url:\"https://mesto.nomoreparties.co/v1/cohort-77\",headers:{authorization:\"5ffe31aa-ca2a-431b-894e-0704b9f5eaf4\",\"content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","_ref","url","headers","_classCallCheck","Object","defineProperty","_onResponce","value","_onResponce2","_url","_headers","_authorization","authorization","_createClass","key","getUserInfo","fetch","concat","method","then","_classPrivateFieldLooseBase","setUserInfo","newUserData","body","JSON","stringify","getCards","getCardById","idCard","changeLikeCardStatus","id","like","_id","deleteCardID","cardID","addCard","data","addLike","deleteLike","setInfoAvatar","res","ok","json","errData","Promise","reject","api"],"sources":["C:/Users/user/dev/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n    this._authorization = headers.authorization;\r\n  }\r\n\r\n  #onResponce(res) {\r\n    return res.ok\r\n      ? res.json()\r\n      : res.json().then((errData) => Promise.reject(errData));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  setUserInfo(newUserData) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(newUserData),\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards/`, {\r\n      headers: this._headers,\r\n      method: \"GET\",\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  getCardById(idCard) {\r\n    return fetch(`${this._url}/cards/${idCard}`, {\r\n      headers: this._headers,\r\n      method: \"GET\",\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  changeLikeCardStatus(id, like) {\r\n    return fetch(`${this._url}/cards/${id}/likes`, {\r\n      method: like ? \"PUT\" : \"DELETE\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        _id: `${id}`,\r\n      }),\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  deleteCardID(cardID) {\r\n    return fetch(`${this._url}/cards/${cardID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}/cards/`, {\r\n      headers: this._headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }).then(this.#onResponce);\r\n  }\r\n  addLike(cardID) {\r\n    return fetch(`${this._url}/cards/${cardID}/likes`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  deleteLike(cardID) {\r\n    return fetch(`${this._url}/cards/${cardID}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  setInfoAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this.#onResponce);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-77\",\r\n  headers: {\r\n    authorization: \"5ffe31aa-ca2a-431b-894e-0704b9f5eaf4\",\r\n    \"content-Type\": \"application/json\",\r\n  },\r\n});\r\nexport default api;"],"mappings":"ylBAAM,CAAAA,GAAG,yBACP,SAAAA,IAAAC,IAAA,CAA8B,IAAhB,CAAAC,GAAG,CAAAD,IAAA,CAAHC,GAAG,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAAC,eAAA,MAAAJ,GAAA,EAAAK,MAAA,CAAAC,cAAA,MAAAC,WAAA,EAAAC,KAAA,CAAAC,YAAA,GACxB,IAAI,CAACC,IAAI,CAAGR,GAAG,CACf,IAAI,CAACS,QAAQ,CAAGR,OAAO,CACvB,IAAI,CAACS,cAAc,CAAGT,OAAO,CAACU,aAAa,CAC7C,CAACC,YAAA,CAAAd,GAAA,GAAAe,GAAA,eAAAP,KAAA,CAQD,SAAAQ,YAAA,CAAc,CACZ,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,cAAa,CACpCS,MAAM,CAAE,KAAK,CACbhB,OAAO,CAAE,IAAI,CAACQ,QAChB,CAAC,CAAC,CAACS,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,eAAAP,KAAA,CAED,SAAAc,YAAYC,WAAW,CAAE,CACvB,MAAO,CAAAN,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,cAAa,CACpCS,MAAM,CAAE,OAAO,CACfhB,OAAO,CAAE,IAAI,CAACQ,QAAQ,CACtBa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACH,WAAW,CAClC,CAAC,CAAC,CAACH,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,YAAAP,KAAA,CAGD,SAAAmB,SAAA,CAAW,CACT,MAAO,CAAAV,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAW,CAClCP,OAAO,CAAE,IAAI,CAACQ,QAAQ,CACtBQ,MAAM,CAAE,KACV,CAAC,CAAC,CAACC,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,eAAAP,KAAA,CAED,SAAAoB,YAAYC,MAAM,CAAE,CAClB,MAAO,CAAAZ,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAAQ,MAAA,CAAUW,MAAM,EAAI,CAC3C1B,OAAO,CAAE,IAAI,CAACQ,QAAQ,CACtBQ,MAAM,CAAE,KACV,CAAC,CAAC,CAACC,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,wBAAAP,KAAA,CAED,SAAAsB,qBAAqBC,EAAE,CAAEC,IAAI,CAAE,CAC7B,MAAO,CAAAf,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAAQ,MAAA,CAAUa,EAAE,WAAU,CAC7CZ,MAAM,CAAEa,IAAI,CAAG,KAAK,CAAG,QAAQ,CAC/B7B,OAAO,CAAE,IAAI,CAACQ,QAAQ,CACtBa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBO,GAAG,IAAAf,MAAA,CAAKa,EAAE,CACZ,CAAC,CACH,CAAC,CAAC,CAACX,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,gBAAAP,KAAA,CAED,SAAA0B,aAAaC,MAAM,CAAE,CACnB,MAAO,CAAAlB,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAAQ,MAAA,CAAUiB,MAAM,EAAI,CAC3ChB,MAAM,CAAE,QAAQ,CAChBhB,OAAO,CAAE,CACPU,aAAa,CAAE,IAAI,CAACD,cACtB,CACF,CAAC,CAAC,CAACQ,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,WAAAP,KAAA,CAED,SAAA4B,QAAQC,IAAI,CAAE,CACZ,MAAO,CAAApB,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAW,CAClCP,OAAO,CAAE,IAAI,CAACQ,QAAQ,CACtBQ,MAAM,CAAE,MAAM,CACdK,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACW,IAAI,CAC3B,CAAC,CAAC,CAACjB,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,WAAAP,KAAA,CACD,SAAA8B,QAAQH,MAAM,CAAE,CACd,MAAO,CAAAlB,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAAQ,MAAA,CAAUiB,MAAM,WAAU,CACjDhB,MAAM,CAAE,KAAK,CACbhB,OAAO,CAAE,CACPU,aAAa,CAAE,IAAI,CAACD,cACtB,CACF,CAAC,CAAC,CAACQ,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,cAAAP,KAAA,CAED,SAAA+B,WAAWJ,MAAM,CAAE,CACjB,MAAO,CAAAlB,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,YAAAQ,MAAA,CAAUiB,MAAM,WAAU,CACjDhB,MAAM,CAAE,QAAQ,CAChBhB,OAAO,CAAE,CACPU,aAAa,CAAE,IAAI,CAACD,cACtB,CACF,CAAC,CAAC,CAACQ,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,GAAAQ,GAAA,iBAAAP,KAAA,CAED,SAAAgC,cAAcH,IAAI,CAAE,CAClB,MAAO,CAAApB,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACR,IAAI,qBAAoB,CAC3CS,MAAM,CAAE,OAAO,CACfhB,OAAO,CAAE,IAAI,CAACQ,QAAQ,CACtBa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACW,IAAI,CAC3B,CAAC,CAAC,CAACjB,IAAI,CAAAC,2BAAA,CAAC,IAAI,CAAAd,WAAA,EAAAA,WAAA,CAAY,CAAC,CAC3B,CAAC,WAAAP,GAAA,cAAAS,aAtFWgC,GAAG,CAAE,CACf,MAAO,CAAAA,GAAG,CAACC,EAAE,CACTD,GAAG,CAACE,IAAI,CAAC,CAAC,CACVF,GAAG,CAACE,IAAI,CAAC,CAAC,CAACvB,IAAI,CAAC,SAACwB,OAAO,QAAK,CAAAC,OAAO,CAACC,MAAM,CAACF,OAAO,CAAC,GAAC,CAC3D,CAqFF,GAAM,CAAAG,GAAG,CAAG,GAAI,CAAA/C,GAAG,CAAC,CAClBE,GAAG,CAAE,6CAA6C,CAClDC,OAAO,CAAE,CACPU,aAAa,CAAE,sCAAsC,CACrD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,cAAe,CAAAkC,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}
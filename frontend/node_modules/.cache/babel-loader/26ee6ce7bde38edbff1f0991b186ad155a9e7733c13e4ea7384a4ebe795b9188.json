{"ast":null,"code":"import _classCallCheck from\"C:/Users/user/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/user/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(baseUrl){_classCallCheck(this,Auth);this.baseUrl=baseUrl;}_createClass(Auth,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}throw new Error('error');}},{key:\"registerUser\",value:function registerUser(email,password){var _this=this;return fetch(\"\".concat(this.baseUrl,\"/signup\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(function(res){return _this._checkResponse(res);});}},{key:\"authUser\",value:function authUser(email,password){return fetch(\"\".concat(this.baseUrl,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(this._checkResponse);}},{key:\"checkToken\",value:function checkToken(token){var _this2=this;return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:'GET',headers:{'Content-Type':\"application/json\",'Authorization':\"Bearer \".concat(token)}}).then(function(res){return _this2._checkResponse(res);});}}]);return Auth;}();var auth=new Auth('https://auth.nomoreparties.co');export default auth;","map":{"version":3,"names":["Auth","baseUrl","_classCallCheck","_createClass","key","value","_checkResponse","res","ok","json","Error","registerUser","email","password","_this","fetch","concat","method","headers","body","JSON","stringify","then","authUser","checkToken","token","_this2","auth"],"sources":["C:/Users/user/dev/react-mesto-auth/src/utils/Auth.js"],"sourcesContent":["class Auth {\r\n    constructor(baseUrl) {\r\n        this.baseUrl = baseUrl;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if(res.ok) {\r\n            return res.json()\r\n        }\r\n        throw new Error('error')\r\n    }\r\n\r\n    registerUser(email,password) {\r\n        return fetch(`${this.baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: password})\r\n        })\r\n        .then((res) => {\r\n          return this._checkResponse(res)\r\n        })\r\n    }\r\n    authUser(email, password) {\r\n        return fetch(`${this.baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'  \r\n            },\r\n            body: JSON.stringify({email, password})\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    checkToken(token) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': \"application/json\",\r\n                'Authorization': `Bearer ${token}`,\r\n            }\r\n        })\r\n        .then((res) => {\r\n          return this._checkResponse(res)\r\n        })\r\n    }\r\n}\r\n\r\nconst auth = new Auth('https://auth.nomoreparties.co')\r\nexport default auth"],"mappings":"iPAAM,CAAAA,IAAI,yBACN,SAAAA,KAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,IAAA,EACjB,IAAI,CAACC,OAAO,CAAGA,OAAO,CAC1B,CAACE,YAAA,CAAAH,IAAA,GAAAI,GAAA,kBAAAC,KAAA,CAED,SAAAC,eAAeC,GAAG,CAAE,CAChB,GAAGA,GAAG,CAACC,EAAE,CAAE,CACP,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACrB,CACA,KAAM,IAAI,CAAAC,KAAK,CAAC,OAAO,CAAC,CAC5B,CAAC,GAAAN,GAAA,gBAAAC,KAAA,CAED,SAAAM,aAAaC,KAAK,CAACC,QAAQ,CAAE,KAAAC,KAAA,MACzB,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACf,OAAO,YAAW,CACnCgB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBT,KAAK,CAAEA,KAAK,CACZC,QAAQ,CAAEA,QAAQ,CAAC,CAC3B,CAAC,CAAC,CACDS,IAAI,CAAC,SAACf,GAAG,CAAK,CACb,MAAO,CAAAO,KAAI,CAACR,cAAc,CAACC,GAAG,CAAC,CACjC,CAAC,CAAC,CACN,CAAC,GAAAH,GAAA,YAAAC,KAAA,CACD,SAAAkB,SAASX,KAAK,CAAEC,QAAQ,CAAE,CACtB,MAAO,CAAAE,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACf,OAAO,YAAW,CACnCgB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACT,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CAC1C,CAAC,CAAC,CACDS,IAAI,CAAC,IAAI,CAAChB,cAAc,CAAC,CAC9B,CAAC,GAAAF,GAAA,cAAAC,KAAA,CAED,SAAAmB,WAAWC,KAAK,CAAE,KAAAC,MAAA,MACd,MAAO,CAAAX,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACf,OAAO,cAAa,CACrCgB,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAF,MAAA,CAAYS,KAAK,CACpC,CACJ,CAAC,CAAC,CACDH,IAAI,CAAC,SAACf,GAAG,CAAK,CACb,MAAO,CAAAmB,MAAI,CAACpB,cAAc,CAACC,GAAG,CAAC,CACjC,CAAC,CAAC,CACN,CAAC,WAAAP,IAAA,KAGL,GAAM,CAAA2B,IAAI,CAAG,GAAI,CAAA3B,IAAI,CAAC,+BAA+B,CAAC,CACtD,cAAe,CAAA2B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}
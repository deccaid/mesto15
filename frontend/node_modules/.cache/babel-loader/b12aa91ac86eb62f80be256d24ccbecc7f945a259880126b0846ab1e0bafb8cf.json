{"ast":null,"code":"import _classPrivateFieldLooseBase from \"C:/Users/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"C:/Users/user/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nvar _onResponce = /*#__PURE__*/_classPrivateFieldLooseKey(\"onResponce\");\nclass Api {\n  constructor({\n    url,\n    headers\n  }) {\n    Object.defineProperty(this, _onResponce, {\n      value: _onResponce2\n    });\n    this._url = url;\n    this._headers = headers;\n    this._authorization = headers.authorization;\n  }\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  setUserInfo(newUserData) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(newUserData)\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  getCards() {\n    return fetch(`${this._url}/cards/`, {\n      headers: this._headers,\n      method: \"GET\"\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  getCardById(idCard) {\n    return fetch(`${this._url}/cards/${idCard}`, {\n      headers: this._headers,\n      method: \"GET\"\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  changeLikeCardStatus(id, like) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: like ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: `${id}`\n      })\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  deleteCardID(cardID) {\n    return fetch(`${this._url}/cards/${cardID}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authorization\n      }\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  addCard(data) {\n    return fetch(`${this._url}/cards/`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data)\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  addLike(cardID) {\n    return fetch(`${this._url}/cards/${cardID}/likes`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._authorization\n      }\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  deleteLike(cardID) {\n    return fetch(`${this._url}/cards/${cardID}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authorization\n      }\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n  setInfoAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.editAvatar\n      })\n    }).then(_classPrivateFieldLooseBase(this, _onResponce)[_onResponce]);\n  }\n}\nfunction _onResponce2(res) {\n  return res.ok ? res.json() : res.json().then(errData => Promise.reject(errData));\n}\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-77\",\n  headers: {\n    authorization: \"5ffe31aa-ca2a-431b-894e-0704b9f5eaf4\",\n    \"content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","url","headers","Object","defineProperty","_onResponce","value","_onResponce2","_url","_headers","_authorization","authorization","getUserInfo","fetch","method","then","_classPrivateFieldLooseBase","setUserInfo","newUserData","body","JSON","stringify","getCards","getCardById","idCard","changeLikeCardStatus","id","like","_id","deleteCardID","cardID","addCard","data","addLike","deleteLike","setInfoAvatar","avatar","editAvatar","res","ok","json","errData","Promise","reject","api"],"sources":["C:/Users/user/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n    this._authorization = headers.authorization;\r\n  }\r\n\r\n  #onResponce(res) {\r\n    return res.ok\r\n      ? res.json()\r\n      : res.json().then((errData) => Promise.reject(errData));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  setUserInfo(newUserData) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(newUserData),\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards/`, {\r\n      headers: this._headers,\r\n      method: \"GET\",\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  getCardById(idCard) {\r\n    return fetch(`${this._url}/cards/${idCard}`, {\r\n      headers: this._headers,\r\n      method: \"GET\",\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  changeLikeCardStatus(id, like) {\r\n    return fetch(`${this._url}/cards/${id}/likes`, {\r\n      method: like ? \"PUT\" : \"DELETE\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        _id: `${id}`,\r\n      }),\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  deleteCardID(cardID) {\r\n    return fetch(`${this._url}/cards/${cardID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}/cards/`, {\r\n      headers: this._headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }).then(this.#onResponce);\r\n  }\r\n  addLike(cardID) {\r\n    return fetch(`${this._url}/cards/${cardID}/likes`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  deleteLike(cardID) {\r\n    return fetch(`${this._url}/cards/${cardID}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.#onResponce);\r\n  }\r\n\r\n  setInfoAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.editAvatar,\r\n      }),\r\n    }).then(this.#onResponce);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-77\",\r\n  headers: {\r\n    authorization: \"5ffe31aa-ca2a-431b-894e-0704b9f5eaf4\",\r\n    \"content-Type\": \"application/json\",\r\n  },\r\n});\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}